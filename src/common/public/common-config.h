#pragma once


////////////////////////////////////////////////////////////////////////////////
// Event thread
////////////////////////////////////////////////////////////////////////////////
#define EVENT_THREAD_BIND_INIT_PORT     9876
#define EVENT_THREAD_MAX_BIND_TRY_COUNT 128

////////////////////////////////////////////////////////////////////////////////
// Session thread 
////////////////////////////////////////////////////////////////////////////////
#define SESSION_THREAD_MSG_QUEUE_SIZE (4 * 1024)
#define SESSION_UPDATE_INTERVAL       10000 //us

////////////////////////////////////////////////////////////////////////////////
// Network buffer size
////////////////////////////////////////////////////////////////////////////////
#define SOCKET_SEND_BUF_LEN (1024 * 1024 * 8)
#define SOCKET_RECV_BUF_LEN (1024 * 1024 * 8)
#define UDP_RECV_BUF_LEN    (64 * 1024)

////////////////////////////////////////////////////////////////////////////////
// Max fragment size
////////////////////////////////////////////////////////////////////////////////
#define MAX_FRAG_SIZE 1400

////////////////////////////////////////////////////////////////////////////////
// Congestion control
////////////////////////////////////////////////////////////////////////////////
#define MIN_SSTHRESH 20
#define MIN_CWND     10      // google recommend
#define MIN_RTO      100000  // us
#define MAX_RTO      6000000 // us

////////////////////////////////////////////////////////////////////////////////
// OPUS
////////////////////////////////////////////////////////////////////////////////
#define OPUS_PACK_DURATION 20 // ms

////////////////////////////////////////////////////////////////////////////////
// UDP client port
////////////////////////////////////////////////////////////////////////////////
#define UDP_CLIENT_PORT_BEGIN 20000
#define UDP_CLIENT_PORt_END   21000

////////////////////////////////////////////////////////////////////////////////
// Send control
////////////////////////////////////////////////////////////////////////////////
#define SEND_CACHE_QUEUE_MAX_SIZE 8192
#define SEND_WAIT_QUEUE_MAX_SIZE  4096
#define SEND_DATA_MAX_SIZE        8192 * 1024 // 8MB
#define NACK_REQUEST_MAX_COUNT    256
#define RECV_CAHCE_QUEUE_MAX_SIZE 4096
#define RECV_WAIT_QUEUE_MAX_SIZE  4096